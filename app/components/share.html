<section class="share" onclick="ga('send', 'event', 'share', 'click', 'share_buttons')">
  <button class="share">Compartilhar</button>

  <div class="wrapper">
    <h4>Compartilhe</h4>
    <a class="share-button share-twitter" aria-label="Compartilhe no Twitter" href="https://twitter.com/intent/tweet?text=&quot;{{ page.title }}&quot;%20{{ site.url }}{{ page.url }}%20via%20&#64;{{ site.twitter_username }}&hashtags={% for tag in page.tags %}{{tag}},{% endfor %}"
      onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title="Compartilhe no Twitter">
      <svg class="icon icon-twitter">
        <use xlink:href="#icon-twitter"></use>
      </svg>
      <span>Twitter</span>
    </a>
    <a class="share-button share-facebook" aria-label="Compartilhe no Facebook" href="https://www.facebook.com/sharer/sharer.php?u={{ site.url }}{{ page.url }}"
      onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title="Compartilhe no Facebook">
      <svg class="icon icon-facebook">
        <use xlink:href="#icon-facebook"></use>
      </svg>
      <span>Facebook</span>
    </a>
    <a class="share-button share-google" aria-label="Compartilhe no Google Plus" href="https://plus.google.com/share?url={{ site.url }}{{ page.url }}" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;"
      title="Compartilhe no Google+">
      <svg class="icon icon-google-plus">
        <use xlink:href="#icon-google-plus"></use>
      </svg>
      <span>Google+</span>
    </a>
  </div>
</section>

<script>

  function share() {
    if (navigator.share){
      const url = document.location.href;
      const title = document.querySelector('title').textContent;
      const text = document.querySelector('meta[name="description"]').content;

      navigator.share({
        url,
        title,
        text
      })
        .then(() => {
          console.log('Conte√∫do compartilhado.')
        })
        .catch(console.error);
    } else {

      console.log('Web Share API is not supported');
    }
  }

  const shareButton = document.querySelector('button.share');
  const shareSection = document.querySelector('section.share .wrapper');

  if( navigator.share ) {
    shareButton.addEventListener('click', share);
    shareSection.classList.add('hidden');
  } else {
    shareSection.classList.remove('hidden');
    shareButton.classList.add('hidden');
  }




</script>
