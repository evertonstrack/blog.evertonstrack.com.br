<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "pt-br" }}">

  {%- include head.html -%}

  <body class="{{page.bodyClass}} {{page.collection}}">

    <!-- Theme Control -->
    {%- include scripts/theme-control.js.html -%}
    <!-- END: /Theme Control -->
    <!-- Webp Support -->
    {%- include scripts/support-webp.js.html -%}
    <!-- END: /Webp Support -->
    <!-- SVG Icons -->
    {% include svg-icons.html %}
    <!-- END: /SVG Icons -->

    <!-- HEADER -->
    {%- include header.html -%}
    <!-- END: /HEADER -->

     <!-- SEARCH -->
     {%- include search.html -%}
     <!-- END: /SEARCH -->

    <!-- CONTENT -->
    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        {{ content }}
      </div>
    </main>
    <!-- END: /CONTENT -->

    <!-- FOOTER -->
    {%- include footer.html -%}
    <!-- END:/ FOOTER -->

    <!-- Theme Toogle -->
    {%- include scripts/theme-toggle.js.html -%}
    <!-- END: /Theme Toogle -->

    <!-- Google Analytics -->
    {%- if jekyll.environment == 'production' and site.google_analytics -%}
      {%- include scripts/google-analytics.js.html -%}
    {%- endif -%}
    <!-- /Google Analytics -->

    <!-- Verify service worker update -->
    {%- include scripts/update-service-worker.js.html -%}
    <!-- END /Verify service worker update -->

    <!-- Search -->
    {%- include scripts/search.js.html -%}
    <!-- END /Search -->

    <script>
      if ('loading' in HTMLImageElement.prototype) {
        const images = document.querySelectorAll("img.lazyload");
        images.forEach(img => {
          img.src = img.dataset.src;
        });
      } else {
        // Importamos dinamicamente a biblioteca LazySizes
        let lazysizes = document.createElement("script");
        lazysizes.async = true;
        lazysizes.src = "/assets/js/lazysizes.min.js";
        document.body.appendChild(lazysizes);
      }
    </script>

  </body>

</html>
